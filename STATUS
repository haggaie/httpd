APACHE 2.2 STATUS:                                              -*-text-*-
Last modified at [$Date$]

The current version of this file can be found at:

  * http://svn.apache.org/repos/asf/httpd/httpd/branches/2.2.x/STATUS

Documentation status is maintained seperately and can be found at:

  * docs/STATUS in this source tree, or
  * http://svn.apache.org/repos/asf/httpd/httpd/trunk/docs/STATUS

Consult the following STATUS files for information on related projects:

  * http://svn.apache.org/repos/asf/apr/apr/trunk/STATUS
  * http://svn.apache.org/repos/asf/apr/apr-util/trunk/STATUS

Patches considered for backport are noted in their branches' STATUS:

  * http://svn.apache.org/repos/asf/httpd/httpd/branches/1.3.x/STATUS
  * http://svn.apache.org/repos/asf/httpd/httpd/branches/2.0.x/STATUS
  * http://svn.apache.org/repos/asf/httpd/httpd/branches/2.2.x/STATUS


Release history:
    [NOTE that x.{odd}.z versions are strictly Alpha/Beta releases,
          while x.{even}.z versions are Stable/GA releases.]

    2.2.7   : In development. Jim intends to T&R on Dec 29/30.
    2.2.6   : Released September 7, 2007.
    2.2.5   : Tagged August 10, 2007, not released.
    2.2.4   : Released on January 9, 2007 as GA.
    2.2.3   : Released on July 28, 2006 as GA.
    2.2.2   : Released on May 1, 2006 as GA.
    2.2.1   : Tagged on April 1, 2006, not released.
    2.2.0   : Released on December 1, 2005 as GA.
    2.1.10  : Tagged on November 19, 2005, not released.
    2.1.9   : Released on November 5, 2005 as beta.
    2.1.8   : Released on October 1, 2005 as beta.
    2.1.7   : Released on September 12, 2005 as beta.
    2.1.6   : Released on June 27, 2005 as alpha.
    2.1.5   : Tagged on June 17, 2005.
    2.1.4   : not released.
    2.1.3   : Released on  February 22, 2005 as alpha.
    2.1.2   : Released on December 8, 2004 as alpha.
    2.1.1   : Released on November 19, 2004 as alpha.
    2.1.0   : not released.


Contributors looking for a mission:

  * Just do an egrep on "TODO" or "XXX" in the source.

  * Review the bug database at: http://issues.apache.org/bugzilla/

  * Review the "PatchAvailable" bugs in the bug database:

    https://issues.apache.org/bugzilla/buglist.cgi?bug_status=NEW&bug_status=ASSIGNED&bug_status=REOPENED&product=Apache+httpd-2&keywords=PatchAvailable

    After testing, you can append a comment saying "Reviewed and tested".

  * Open bugs in the bug database.


CURRENT RELEASE NOTES:

  * Forward binary compatibility is expected of Apache 2.2.x releases, such
    that no MMN major number changes will occur.  Such changes can only be
    made in the trunk.

  * All commits to branches/2.2.x must be reflected in SVN trunk,
    as well, if they apply.  Logical progression is commit to trunk,
    get feedback and votes on list or in STATUS, then merge into
    branches/2.2.x, as applicable.


RELEASE SHOWSTOPPERS:

   * Various modules: Add explicit charset to the output of various modules to
     work around possible cross-site scripting flaws affecting web browsers that
     do not derive the response character set as required by RFC2616.
      Trunk version of patch:
         http://svn.apache.org/viewvc?rev=606693&view=rev
         http://svn.apache.org/viewvc?rev=607276&view=rev
      Backport version for 2.2.x of patch:
         http://people.apache.org/~rpluem/patches/utf7_fix_2.2.x.diff
      +1: rpluem, wrowe
      wrowe notes; as nice as customization might be, this mirrors the behavior
      or all RFC conformant browsers, and additional customization can come
      as a new feature in the future.
      -1: niq.  We cannot label FTP directory listings as ISO-8859-1 unless
                we ensure they really are (e.g. some backend platforms will
                give us UTF-8).  Also mod_dav embeds r->uri in the response:
                we would need to URL-escape that before HTML-escaping it
                to ensure that it's ISO-8859-1-compatible.
      rpluem says: Please see my answers on list. Keep in mind that we do NOT
                   create a regression by this patch but only enforce browsers
                   who do not act in an RFC compliant manner to do so.
                   So please reconsider your -1.
      wrowe echos rpluem's sentiments, and argues supporting non-RFC clients
            is not a key purpose of httpd.  However, if the associated non
            showstopper new-feature will satisfy you, perhaps this should
            be adopted (c.f. mod_proxy_ftp below).
      niq says: I withdraw my -1 if we also apply a patch that enables
                an admin to specify charset in an FTP directory list.

   * mod_proxy_balancer: Correctly escape the worker route and the worker
     redirect string in the HTML output of the balancer manager.
     Trunk version of patch:
        http://svn.apache.org/viewvc?rev=607275&view=rev
        http://svn.apache.org/viewvc?rev=607403&view=rev (CVE number added
                                                          to CHANGES entry)
     Backport version for 2.2.x of patch:
        Trunk version of patch works
     +1: rpluem, niq

   * mod_dav_fs: Adjust etag generation to produce identical results on 32-bit
     and 64-bit platforms. Avoid a regression with conditional PUT's on lock
     and etag (because we have a regression otherwise this is a showstopper).
     PR 44152
     Trunk version of patch:
        http://svn.apache.org/viewvc?rev=607437&view=rev
     Backport version for 2.2.x of patch:
        Trunk version of patch works
     +1: rpluem, niq

PATCHES ACCEPTED TO BACKPORT FROM TRUNK:
  [ start all new proposals below, under PATCHES PROPOSED. ]

   * mod_proxy_balancer: Prevent crash in balancer manager if invalid balancer
     name is passed as parameter.
     Trunk version of patch:
        http://svn.apache.org/viewvc?rev=607273&view=rev
        http://svn.apache.org/viewvc?rev=607402&view=rev (CVE number added
                                                          to CHANGES entry)
     Backport version for 2.2.x of patch:
        Trunk version of patch works
     +1: rpluem, jorton
     niq: +1 to the fix, but wouldn't it be a good idea to log a debug
          message rather than silently ignore it if the test fails?
     rpluem: I do not see this need right now as this cannot happen if you
             use the link contructed by the balancer manager. It can only
             happen if you construct the URL by yourself. But I may change my
             mind once I have to do bug hunting in this area :-).

PATCHES PROPOSED TO BACKPORT FROM TRUNK:
  [ New proposals should be added at the end of the list ]

   * mod_proxy: Support variable interpolation in reverse proxy configuration
     (revised proposal dealing with wrowe's concerns).
     trunk:
       http://svn.apache.org/viewvc?view=rev&revision=421686  (code)
       http://svn.apache.org/viewvc?view=rev&revision=422178  (code)
       http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/mod/mod_proxy.xml?r1=420990&r2=421725 (docs)
       http://svn.apache.org/viewvc?view=rev&revision=589371  (code+docs)
     2.2.x:
       http://people.apache.org/~niq/proxy-interp.patch
     rpluem says: Please add the documentation to your 2.2.x version of your
                  patch and a minor bump (changes to public mod_proxy.h) and
                  assume you are +1 to your own proposal.
     niq says: I'll attend to that.  As regards vote, I'm +1 on the proposal,
               but -0 on including this as a new feature in 2.2.7.
               Better IMHO to separate releasing it from the many bugfixes
               in 2.2.7 mod_proxy.  Hence +1 for 2.2.8.

   * configure / install: Make https port configurable.
      Trunk version of patch:
         http://svn.apache.org/viewvc?rev=606316&view=rev
         http://svn.apache.org/viewvc?rev=606806&view=rev
      Backport version for 2.2.x of patch:
         http://people.apache.org/~fuankg/diffs/sslport.diff
      +1: fuankg, wrowe
      wrowe notes; Win32 is already ready for this.

   * mod_ssl: Add server name indication (RFC 4366) support (PR 34607).
      Trunk version of patch:
         http://svn.apache.org/viewvc?view=rev&revision=606190
      Backport version for 2.2.x of patch:
         http://people.apache.org/~fuankg/diffs/httpd-2.2.x-sni.diff
      +1: fuankg
      +0: like ssl upgrade of 2.2, perhaps this is a good reason to bring
          httpd-2.4 to completion?  vhost changes could be disruptive to
          third party module authors.
      -1: rpluem: jorton found some problems with the trunk version and they
                  should be fixed / discussed in trunk before we backport.

   * mod_deflate: Don't leave a strong ETag in place when transforming content
     PR 39727
     http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/filters/mod_deflate.c?r1=580598&r2=607219&pathrev=607219
     +1: niq, wrowe

   * mod_dav: Fix evaluation of If-Match * and If-None-Match * conditionals.
     PR 38034
     http://svn.apache.org/viewvc?view=rev&revision=607466
     +1: niq
     rpluem says: Please add r607472 to fix some style nits.
     -1: rpluem: This causes a segfault on trunk. Also it changes the behaviour
                 by sending headers in cases where we did not before. It needs
                 to be evaluated first if this is the correct thing to do.

  * mod_proxy_ftp: Introduce the ProxyFtpDirCharset directive, allowing
    the administrator to identify a default, or specific servers or paths
    which list their contents in other-than ISO-8859-1 charset (e.g. utf-8).
    [Ruediger Pluem]
      trunk version; http://svn.apache.org/viewvc?view=rev&revision=607638
      backport;
        http://people.apache.org/~wrowe/mod_proxy_ftp_dir_listing-2.2.diff
      +1: wrowe, rpluem
      -0: niq: I dislike this patch for reasons stated on-list, but it
               delivers the functionality needed for the charset "showstopper".

PATCHES/ISSUES THAT ARE STALLED

   * beos MPM: Create pmain pool and run modules' child_init hooks when
     entering ap_mpm_run(), then destroy pmain when exiting ap_mpm_run().
     Otherwise modules' child_init hooks appear to never be executed.
     Also, destroying pmain ensures that cleanups registered in modules'
     child_init hooks are performed (e.g., mod_log_config and mod_dbd).
     Trunk version of patch:
       http://svn.apache.org/viewvc?view=rev&revision=491922
     2.2.x version of patch:
       http://people.apache.org/~chrisd/patches/mod_dbd_pools_groups/mpm_child_init-beos-2.2.x.patch
     +0: chrisd (abstaining; unable to test)

    * PKCS#7: backport PCKS#7 patches from trunk.
      +1 ben
      jerenkrantz: What's the revision number to backport?
      wrowe asks: ditto jerenkrantz
      sctemme: svn blame suggests r424707
      rpluem: Digging through the history suggests that
              r424735
              r424821
              r424823
              need to be added to this. See also
              http://mail-archives.apache.org/mod_mbox/httpd-dev/200607.mbox/%3c20060723093125.GA19423@redhat.com%3e
              and follow ups for more details.
