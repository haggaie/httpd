APACHE 2.2 STATUS:                                              -*-text-*-
Last modified at [$Date$]

The current version of this file can be found at:

  * http://svn.apache.org/repos/asf/httpd/httpd/branches/2.2.x/STATUS

Documentation status is maintained seperately and can be found at:

  * docs/STATUS in this source tree, or
  * http://svn.apache.org/repos/asf/httpd/httpd/trunk/docs/STATUS

Consult the following STATUS files for information on related projects:

  * http://svn.apache.org/repos/asf/apr/apr/trunk/STATUS
  * http://svn.apache.org/repos/asf/apr/apr-util/trunk/STATUS

Patches considered for backport are noted in their branches' STATUS:

  * http://svn.apache.org/repos/asf/httpd/httpd/branches/1.3.x/STATUS
  * http://svn.apache.org/repos/asf/httpd/httpd/branches/2.0.x/STATUS
  * http://svn.apache.org/repos/asf/httpd/httpd/branches/2.2.x/STATUS


Release history:
    [NOTE that x.{odd}.z versions are strictly Alpha/Beta releases,
          while x.{even}.z versions are Stable/GA releases.]

    2.2.9   : In development. Jim would like to do a release end
              of April and offers to RM.
    2.2.8   : Tagged January 10, 2008.
    2.2.7   : Tagged January 4, 2008. Not released.
    2.2.6   : Released September 7, 2007.
    2.2.5   : Tagged August 10, 2007, not released.
    2.2.4   : Released on January 9, 2007 as GA.
    2.2.3   : Released on July 28, 2006 as GA.
    2.2.2   : Released on May 1, 2006 as GA.
    2.2.1   : Tagged on April 1, 2006, not released.
    2.2.0   : Released on December 1, 2005 as GA.
    2.1.10  : Tagged on November 19, 2005, not released.
    2.1.9   : Released on November 5, 2005 as beta.
    2.1.8   : Released on October 1, 2005 as beta.
    2.1.7   : Released on September 12, 2005 as beta.
    2.1.6   : Released on June 27, 2005 as alpha.
    2.1.5   : Tagged on June 17, 2005.
    2.1.4   : not released.
    2.1.3   : Released on  February 22, 2005 as alpha.
    2.1.2   : Released on December 8, 2004 as alpha.
    2.1.1   : Released on November 19, 2004 as alpha.
    2.1.0   : not released.


Contributors looking for a mission:

  * Just do an egrep on "TODO" or "XXX" in the source.

  * Review the bug database at: http://issues.apache.org/bugzilla/

  * Review the "PatchAvailable" bugs in the bug database:

    https://issues.apache.org/bugzilla/buglist.cgi?bug_status=NEW&bug_status=ASSIGNED&bug_status=REOPENED&product=Apache+httpd-2&keywords=PatchAvailable

    After testing, you can append a comment saying "Reviewed and tested".

  * Open bugs in the bug database.


CURRENT RELEASE NOTES:

  * Forward binary compatibility is expected of Apache 2.2.x releases, such
    that no MMN major number changes will occur.  Such changes can only be
    made in the trunk.

  * All commits to branches/2.2.x must be reflected in SVN trunk,
    as well, if they apply.  Logical progression is commit to trunk,
    get feedback and votes on list or in STATUS, then merge into
    branches/2.2.x, as applicable.


RELEASE SHOWSTOPPERS:

* rpluem says: We need a new apr-util release to fix the regression discussed in
  http://mail-archives.apache.org/mod_mbox/httpd-dev/200802.mbox/%3cPine.GSO.4.64.0802212127120.16348@kleopatra.acc.umu.se%3e
  (probably PR44538, definitely PR44648). The needed patch is already
  backported to apr-util 1.2.x
  (http://svn.apache.org/viewvc?rev=631559&view=rev).

PATCHES ACCEPTED TO BACKPORT FROM TRUNK:
  [ start all new proposals below, under PATCHES PROPOSED. ]

  * mod_proxy_http: Return HTTP status codes instead of apr_status_t
    values for errors encountered while forwarding the request body
      Trunk version of patch:
         http://svn.apache.org/viewvc?rev=611292&view=rev
      Backport version for 2.2.x of patch (trunk applies):
         http://people.apache.org/~covener/2.2.x-proxy-status_t.diff 
    +1 covener, niq, trawick

PATCHES PROPOSED TO BACKPORT FROM TRUNK:
  [ New proposals should be added at the end of the list ]

   * mod_proxy: Support variable interpolation in reverse proxy configuration
     (revised proposal dealing with wrowe's concerns).
     trunk:
       http://svn.apache.org/viewvc?view=rev&revision=421686  (code)
       http://svn.apache.org/viewvc?view=rev&revision=422178  (code)
       http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/mod/mod_proxy.xml?r1=420990&r2=421725 (docs)
       http://svn.apache.org/viewvc?view=rev&revision=589371  (code+docs)
     2.2.x:
       http://people.apache.org/~niq/proxy-interp.patch
     rpluem says: Please add the documentation to your 2.2.x version of your
                  patch and a minor bump (changes to public mod_proxy.h) and
                  assume you are +1 to your own proposal.
     niq says: I'll attend to that.  As regards vote, I'm +1 on the proposal,
               but -0 on including this as a new feature in 2.2.7.
               Better IMHO to separate releasing it from the many bugfixes
               in 2.2.7 mod_proxy.  Hence +1 for 2.2.8.

   * mod_ssl: Add server name indication (RFC 4366) support (PR 34607).
      Trunk version of patches:
         http://svn.apache.org/viewvc?view=rev&revision=606190
         http://svn.apache.org/viewvc?view=rev&revision=607420
         http://svn.apache.org/viewvc?view=rev&revision=607425
         http://svn.apache.org/viewvc?view=rev&revision=611216
         http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c?r1=611216&r2=630436

      Backport version for 2.2.x of updated patch:
         http://people.apache.org/~fuankg/diffs/httpd-2.2.x-sni.diff
      +1: fuankg
      +0: like ssl upgrade of 2.2, perhaps this is a good reason to bring
          httpd-2.4 to completion?  vhost changes could be disruptive to
          third party module authors.
      -1: rpluem: jorton found some problems with the trunk version and they
                  should be fixed / discussed in trunk before we backport.

  * core: Reinstate location walk for subrequests.
    PR: 41960.
      Trunk version of patch:
         http://svn.apache.org/viewvc?view=rev&revision=579664
      Backport version of 2.2.x of patch:
         Trunk version works (minus CHANGES conflict)
    +1: niq, wrowe [with chrisd's suggested change below]
    chrisd says: The patch seems to address the issues in the PR.
                 My only concern would be that the ap_location_walk() call
                 (the second one) expects r->uri.  I'm fairly sure that
                 no native httpd code creates subrequests where r->uri is
                 NULL.  However, it might be wise to wrap the second
                 ap_location_walk() with something like:
                     if(!file_req || (r->uri && r->uri[0] != '\0'))
                 Things like "RewriteCond /foo -F" can use
                 ap_sub_req_lookup_file() to create subrequests with
                 r->uri = "" (but not NULL, I think ...); we might as
                 well bypass <Location> checks on these, and also handle
                 any external modules that might try passing r->uri as NULL.

 * Support chroot on unix-family platforms
   PR 43596
   http://svn.apache.org/viewvc?rev=611483&view=rev (source)
   http://svn.apache.org/viewvc?rev=639005&view=rev (docs)
   http://svn.apache.org/viewvc?rev=639010&view=rev (mmn)
   +1: niq
   rpluem says: I am missing a minor bump and documentation.
   niq replies: Done.

 * mod_ext_filter: Include recently added TranslateAllMimeTypes option 
   to this AP_INIT_ITERATE parameter (the help message parameter)
      http://svn.apache.org/viewvc?rev=631342&view=rev
   +1: covener, trawick

 * ApacheMonitor (win32); Sync to current trunk/.  This would
   Introduce the --kill flag, for use by the installer, solve
   a leak when using ApacheMonitor against another machine,
   update to international service names etc (unicoding it)
   and finally will allow Windows 2008 admins, and earlier
   versions' users to invoke the start|stop|restart etc with
   admin permissions.  Trouble is, an Admin under UAC does
   not actually launch admin-capable applications without
   being show a dialog to do so.  We could force this at the
   start of ApacheMonitor, but it would be bogus to present
   this on every login.
   http://svn.apache.org/viewvc/httpd/httpd/trunk/support/win32/ApacheMonitor.c?view=log
   +1: wrowe

 * mod_proxy: Allow for keepalive backend proxies (PR43238), which also
   addresses PR44026 and PR44543. These are pretty much interwrapped here.
    Trunk version of patch:
      http://svn.apache.org/viewvc?view=rev&revision=602542
      http://svn.apache.org/viewvc?view=rev&revision=603237
      http://svn.apache.org/viewvc?view=rev&revision=603502
      http://svn.apache.org/viewvc?view=rev&revision=603543
      http://svn.apache.org/viewvc?view=rev&revision=604447
      http://svn.apache.org/viewvc?view=rev&revision=604449
      http://svn.apache.org/viewvc?view=rev&revision=605314
      http://svn.apache.org/viewvc?view=rev&revision=605838
    Backport version for 2.2.x of patch:
      http://people.apache.org/~jim/patches/proxy-ssl-44026-patch.txt
   +1: jim, rpluem

 * mod_ldap: Correctly return all requested attribute values
   when some attributes have a null value.
   PR: 44560
   Trunk version of patch:
       http://svn.apache.org/viewvc?rev=634821&view=rev
   Backport version for 2.2.x of patch:
       http://people.apache.org/~covener/2.2.x-pr44560.diff
   +1 covener, niq

 * mod_headers: Add merge option to avoid duplicate values within
   the same header.
   Trunk version of patch:
       http://svn.apache.org/viewvc?view=rev&revision=568323
       http://svn.apache.org/viewvc?view=rev&revision=568879
   Backport version for 2.2.x of patch:
       http://people.apache.org/~chrisd/patches/mod_headers_merge/mod_headers-merge-2.2.x.patch
   +1: chrisd, niq

 * mod_authn_dbd: Disambiguate and tidy database authentication
   error messages.  Also move assignment statements after #if blocks
   to avoid having them treated as variable declarations.
   PR: 43210.
   Trunk version of patch:
       http://svn.apache.org/viewvc?view=rev&revision=639079
       http://svn.apache.org/viewvc?view=rev&revision=468042
   Backport version for 2.2.x of patch:
       http://people.apache.org/~chrisd/patches/mod_authn_dbd_msgs/mod_authn_dbd-msgs-2.2.x.patch
   +1: chrisd

 * mod_proxy: Add in 'disablereuse' option for parity with similar
   mod_jk functionality.
   Trunk version of patch:
       http://svn.apache.org/viewvc?view=rev&revision=627728
   Backport version for 2.2.x of patch:
       http://people.apache.org/~jim/patches/proxy-disablereuse.txt
   +1: jim

 * mod_log_config: Add format options for %p.  PR 43415
   Trunk version of patch:
     http://svn.apache.org/viewvc?view=rev&revision=579425
   Backport version for 2.2.x of patch:
     trunk patch applies
   +1: trawick

 * rotatelogs: sync with trunk to pick up
   . enhanced error logging:
       http://svn.apache.org/viewvc?view=rev&revision=646845
   . -f option to create logfile ASAP:
       http://svn.apache.org/viewvc?view=rev&revision=632355
   . PR 40183. Don't leak memory when reopening the logfile:
       http://svn.apache.org/viewvc?view=rev&revision=615901
   . avoid extra apr_time_now() calls and code bloat:
       http://svn.apache.org/viewvc?view=rev&revision=600154
   Backport version for 2.2.x:
     http://people.apache.org/~trawick/rotatelogs_sync.txt
   +1: trawick

PATCHES/ISSUES THAT ARE STALLED

   * beos MPM: Create pmain pool and run modules' child_init hooks when
     entering ap_mpm_run(), then destroy pmain when exiting ap_mpm_run().
     Otherwise modules' child_init hooks appear to never be executed.
     Also, destroying pmain ensures that cleanups registered in modules'
     child_init hooks are performed (e.g., mod_log_config and mod_dbd).
     Trunk version of patch:
       http://svn.apache.org/viewvc?view=rev&revision=491922
     2.2.x version of patch:
       http://people.apache.org/~chrisd/patches/mod_dbd_pools_groups/mpm_child_init-beos-2.2.x.patch
     +0: chrisd (abstaining; unable to test)

    * PKCS#7: backport PCKS#7 patches from trunk.
      +1 ben
      jerenkrantz: What's the revision number to backport?
      wrowe asks: ditto jerenkrantz
      sctemme: svn blame suggests r424707
      rpluem: Digging through the history suggests that
              r424735
              r424821
              r424823
              need to be added to this. See also
              http://mail-archives.apache.org/mod_mbox/httpd-dev/200607.mbox/%3c20060723093125.GA19423@redhat.com%3e
              and follow ups for more details.
