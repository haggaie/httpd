APACHE 2.2 STATUS:                                              -*-text-*-
Last modified at [$Date$]

The current version of this file can be found at:

  * http://svn.apache.org/repos/asf/httpd/httpd/branches/2.2.x/STATUS

Documentation status is maintained seperately and can be found at:

  * docs/STATUS in this source tree, or
  * http://svn.apache.org/repos/asf/httpd/httpd/trunk/docs/STATUS

Consult the following STATUS files for information on related projects:

  * http://svn.apache.org/repos/asf/apr/apr/trunk/STATUS
  * http://svn.apache.org/repos/asf/apr/apr-util/trunk/STATUS

Patches considered for backport are noted in their branches' STATUS:

  * http://svn.apache.org/repos/asf/httpd/httpd/branches/1.3.x/STATUS
  * http://svn.apache.org/repos/asf/httpd/httpd/branches/2.0.x/STATUS
  * http://svn.apache.org/repos/asf/httpd/httpd/branches/2.2.x/STATUS


Release history:
    [NOTE that x.{odd}.z versions are strictly Alpha/Beta releases,
          while x.{even}.z versions are Stable/GA releases.]

    2.2.9   : In development. Jim would like to do a release early
              May and offers to RM.
    2.2.8   : Tagged January 10, 2008.
    2.2.7   : Tagged January 4, 2008. Not released.
    2.2.6   : Released September 7, 2007.
    2.2.5   : Tagged August 10, 2007, not released.
    2.2.4   : Released on January 9, 2007 as GA.
    2.2.3   : Released on July 28, 2006 as GA.
    2.2.2   : Released on May 1, 2006 as GA.
    2.2.1   : Tagged on April 1, 2006, not released.
    2.2.0   : Released on December 1, 2005 as GA.
    2.1.10  : Tagged on November 19, 2005, not released.
    2.1.9   : Released on November 5, 2005 as beta.
    2.1.8   : Released on October 1, 2005 as beta.
    2.1.7   : Released on September 12, 2005 as beta.
    2.1.6   : Released on June 27, 2005 as alpha.
    2.1.5   : Tagged on June 17, 2005.
    2.1.4   : not released.
    2.1.3   : Released on  February 22, 2005 as alpha.
    2.1.2   : Released on December 8, 2004 as alpha.
    2.1.1   : Released on November 19, 2004 as alpha.
    2.1.0   : not released.


Contributors looking for a mission:

  * Just do an egrep on "TODO" or "XXX" in the source.

  * Review the bug database at: http://issues.apache.org/bugzilla/

  * Review the "PatchAvailable" bugs in the bug database:

    https://issues.apache.org/bugzilla/buglist.cgi?bug_status=NEW&bug_status=ASSIGNED&bug_status=REOPENED&product=Apache+httpd-2&keywords=PatchAvailable

    After testing, you can append a comment saying "Reviewed and tested".

  * Open bugs in the bug database.


CURRENT RELEASE NOTES:

  * Forward binary compatibility is expected of Apache 2.2.x releases, such
    that no MMN major number changes will occur.  Such changes can only be
    made in the trunk.

  * All commits to branches/2.2.x must be reflected in SVN trunk,
    as well, if they apply.  Logical progression is commit to trunk,
    get feedback and votes on list or in STATUS, then merge into
    branches/2.2.x, as applicable.


RELEASE SHOWSTOPPERS:

* rpluem says: We need a new apr-util release to fix the regression discussed in
  http://mail-archives.apache.org/mod_mbox/httpd-dev/200802.mbox/%3cPine.GSO.4.64.0802212127120.16348@kleopatra.acc.umu.se%3e
  (probably PR44538, definitely PR44648). The needed patch is already
  backported to apr-util 1.2.x
  (http://svn.apache.org/viewvc?rev=631559&view=rev).
  jim says: I am baselining shipping with apr-1.3; assuming we do, the
            above show-stopper would be moot.

PATCHES ACCEPTED TO BACKPORT FROM TRUNK:
  [ start all new proposals below, under PATCHES PROPOSED. ]


PATCHES PROPOSED TO BACKPORT FROM TRUNK:
  [ New proposals should be added at the end of the list ]

   * mod_proxy: Support variable interpolation in reverse proxy configuration
     (revised proposal dealing with wrowe's concerns).
     trunk:
       http://svn.apache.org/viewvc?view=rev&revision=421686  (code)
       http://svn.apache.org/viewvc?view=rev&revision=422178  (code)
       http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/mod/mod_proxy.xml?r1=420990&r2=421725 (docs)
       http://svn.apache.org/viewvc?view=rev&revision=589371  (code+docs)
     2.2.x:
       http://people.apache.org/~niq/proxy-interp.patch
     rpluem says: Please add the documentation to your 2.2.x version of your
                  patch and a minor bump (changes to public mod_proxy.h) and
                  assume you are +1 to your own proposal.
     niq says: I'll attend to that.  As regards vote, I'm +1 on the proposal,
               but -0 on including this as a new feature in 2.2.7.
               Better IMHO to separate releasing it from the many bugfixes
               in 2.2.7 mod_proxy.  Hence +1 for 2.2.8.

   * mod_ssl: Add server name indication (RFC 4366) support (PR 34607).
      Trunk version of patches:
         http://svn.apache.org/viewvc?view=rev&revision=606190
         http://svn.apache.org/viewvc?view=rev&revision=607420
         http://svn.apache.org/viewvc?view=rev&revision=607425
         http://svn.apache.org/viewvc?view=rev&revision=611216
         http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c?r1=611216&r2=630436

      Backport version for 2.2.x of updated patch:
         http://people.apache.org/~fuankg/diffs/httpd-2.2.x-sni.diff
      +1: fuankg
      +0: like ssl upgrade of 2.2, perhaps this is a good reason to bring
          httpd-2.4 to completion?  vhost changes could be disruptive to
          third party module authors.
      -1: rpluem: jorton found some problems with the trunk version and they
                  should be fixed / discussed in trunk before we backport.

 * Support chroot on unix-family platforms
   PR 43596
   http://svn.apache.org/viewvc?rev=611483&view=rev (source)
   http://svn.apache.org/viewvc?rev=639005&view=rev (docs)
   http://svn.apache.org/viewvc?rev=639010&view=rev (mmn)
   +1: niq
   rpluem says: I am missing a minor bump and documentation.
   niq replies: Done.

 * ApacheMonitor (win32); Sync to current trunk/.  This would
   Introduce the --kill flag, for use by the installer, solve
   a leak when using ApacheMonitor against another machine,
   update to international service names etc (unicoding it)
   and finally will allow Windows 2008 admins, and earlier
   versions' users to invoke the start|stop|restart etc with
   admin permissions.  Trouble is, an Admin under UAC does
   not actually launch admin-capable applications without
   being show a dialog to do so.  We could force this at the
   start of ApacheMonitor, but it would be bogus to present
   this on every login.
   http://svn.apache.org/viewvc/httpd/httpd/trunk/support/win32/ApacheMonitor.c?view=log
   +1: wrowe

 * mod_proxy: Allow for keepalive backend proxies (PR43238), which also
   addresses PR44026 and PR44543. These are pretty much interwrapped here.
    Trunk version of patch:
      http://svn.apache.org/viewvc?view=rev&revision=602542
      http://svn.apache.org/viewvc?view=rev&revision=603237
      http://svn.apache.org/viewvc?view=rev&revision=603502
      http://svn.apache.org/viewvc?view=rev&revision=603543
      http://svn.apache.org/viewvc?view=rev&revision=604447
      http://svn.apache.org/viewvc?view=rev&revision=604449
      http://svn.apache.org/viewvc?view=rev&revision=605314
      http://svn.apache.org/viewvc?view=rev&revision=605838
    Backport version for 2.2.x of patch:
      http://people.apache.org/~jim/patches/proxy-ssl-44026-patch.txt
   +1: jim, rpluem

 * mod_proxy:  In the case that we fail to read the response line
   from the backend and if we are a reverse proxy request, shutdown
   the connection WITHOUT ANY response to trigger a retry by the client
   if allowed (as for idempotent requests).
   Trunk version of patch:
       http://svn.apache.org/viewvc?view=rev&revision=645813
   Backport version for 2.2.x of patch:
       Trunk version works
   +1: rpluem, jim

 * ab: Sync to current trunk in order to include:
   Add siege-like behaviour to ApacheBench; output the results, as they
   have accrued so far, when the user interrupts with ctrl-c. As the
   signal handler is non-reentrant, we don't need volatiles, and the
   operations all look signal-safe.  Update the base version.
   Set the LastChangedRevision svn property, as ab.c has $Rev $ embedded.
   Add -r option to continue after socket receive errors.
   The apr_port_t type is unsigned, but ab was using a signed format
   code in its reports. PR 42070.
   Correct behavior of HTTP request headers sent by ab in presence of
   -H command-line overrides. PR: 31268, 26554
   Explain that POST data should be sent as the correct MIME type. 
   Do not try to read non existing response bodies of HEAD requests. PR: 34275
   Use a 64 bit unsigned int instead of a signed long to count the
   bytes transferred to avoid integer overflows. PR: 44346
   Overhaul ab.c stats collection and reporting to avoid integer
   truncation and time divisions within the test loop, retain
   native time resolution until output, remove unused data,
   avoid structure copies, consistently round milliseconds, and
   generally avoid losing accuracy of calculation due to type casts.
   Incidentally fixes output bug on gnuplot (seconds were being
   output as microseconds).  PR: 44878, 44931.
   Don't stop sending a request if EAGAIN is returned, which will only
   happen if both the write and subsequent wait are returning EAGAIN,
   and count posted bytes correctly when the initial write of a request
   is not complete.  PR 10038, 38861, 39679
   Improve client performance by clearing connection pool instead
   of destroying it. PR 40054
   Trunk version of patch:
       http://svn.apache.org/viewvc?view=rev&revision=390511
       http://svn.apache.org/viewvc?view=rev&revision=390519
       http://svn.apache.org/viewvc?view=rev&revision=516175
       http://svn.apache.org/viewvc?view=rev&revision=526584
       http://svn.apache.org/viewvc?view=rev&revision=526872
       http://svn.apache.org/viewvc?view=rev&revision=541138
       http://svn.apache.org/viewvc?view=rev&revision=612954
       http://svn.apache.org/viewvc?view=rev&revision=617890
       http://svn.apache.org/viewvc?view=rev&revision=655214
       http://svn.apache.org/viewvc?view=rev&revision=655637
       http://svn.apache.org/viewvc?view=rev&revision=655654
  Backport version for 2.2.x of patch:
       http://people.apache.org/~fielding/p/ab-sync.txt
  +1: fielding, jim

 * suexec: When group is given as a numeric gid, validate it by looking up
   the actual group name such that the name can be used in log entries.
   PR 7862 [<y-koga apache.or.jp>, Leif W <warp-9.9 usa.net>]
   Trunk version of patch:
       http://svn.apache.org/viewvc?view=rev&revision=655711
   Backport version for 2.2.x of patch:
       Trunk version works
  +1: fielding, jim (the use of atoi to generate the ?ID is
      consistent with what we do elsewhere but troubling...
      we need to find a better way to do this. In particular,
      ?ids cannot, iirc, be signed - this is more a note to
      self ;) )

* mod_ssl: Fix a memory leak with connections that have zlib compression
  turned on. PR 44975 [Joe Orton, Amund Elstad <Amund.Elstad ist.com>, 
  Dr Stephen Henson <steve openssl.org>]
      Trunk version of patch:
         http://svn.apache.org/viewvc?rev=654119&view=rev
      Backport version for 2.2.x of patch:
         Trunk version of patch works
      +1: rpluem, jim

PATCHES/ISSUES THAT ARE STALLED

   * beos MPM: Create pmain pool and run modules' child_init hooks when
     entering ap_mpm_run(), then destroy pmain when exiting ap_mpm_run().
     Otherwise modules' child_init hooks appear to never be executed.
     Also, destroying pmain ensures that cleanups registered in modules'
     child_init hooks are performed (e.g., mod_log_config and mod_dbd).
     Trunk version of patch:
       http://svn.apache.org/viewvc?view=rev&revision=491922
     2.2.x version of patch:
       http://people.apache.org/~chrisd/patches/mod_dbd_pools_groups/mpm_child_init-beos-2.2.x.patch
     +0: chrisd (abstaining; unable to test)

    * PKCS#7: backport PCKS#7 patches from trunk.
      +1 ben
      jerenkrantz: What's the revision number to backport?
      wrowe asks: ditto jerenkrantz
      sctemme: svn blame suggests r424707
      rpluem: Digging through the history suggests that
              r424735
              r424821
              r424823
              need to be added to this. See also
              http://mail-archives.apache.org/mod_mbox/httpd-dev/200607.mbox/%3c20060723093125.GA19423@redhat.com%3e
              and follow ups for more details.
